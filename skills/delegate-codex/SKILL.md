---
name: delegate-codex
description: |
  대규모 탐색, 코드 분석, 리서치를 Codex에 위임합니다.
  5개 이상 파일 검색, 200줄 이상 코드 분석, 아키텍처 파악,
  10k 토큰 이상 소비될 탐색 작업 시 자동으로 사용합니다.
  "codex한테 맡겨", "위임해", "분석 맡겨" 키워드에도 반응합니다.
allowed-tools: Bash, Read, Glob
---

# Delegate to Codex

컨텍스트 절약을 위해 대규모 작업을 Codex CLI에 위임하는 스킬입니다.

## 자동 트리거 조건

다음 상황에서 이 스킬을 사용합니다:

| 조건 | 예시 |
|-----|-----|
| >5개 파일 검색 | "모든 API 엔드포인트 찾아줘" |
| >200줄 분석 | "이 모듈 전체 설명해줘" |
| 아키텍처 파악 | "이 프로젝트 구조 설명해줘" |
| 리서치 작업 | "최신 React 패턴 알려줘" |
| >10k 토큰 예상 | 대규모 탐색/분석 |

## 실행 방법

### 1. 프롬프트 구성

```bash
codex exec --skip-git-repo-check 'Think deeply. [작업 내용].

컨텍스트:
- 프로젝트: [프로젝트 설명]
- 목적: [왜 이 정보가 필요한지]
- 범위: [어디를 봐야 하는지]

응답 형식:
- 핵심 발견 3-5개
- 관련 파일 경로
- 권장 사항

≤200 tokens로 압축해서 응답.'
```

### 2. 타임아웃 설정

복잡한 분석은 타임아웃 연장:
```bash
# 기본: 120초
# 복잡한 작업: 1800초 (30분)
timeout 1800 codex exec --skip-git-repo-check '...'
```

### 3. 결과 압축

Codex 응답을 반드시 ≤200 토큰으로 압축:

```
CODEX 위임 결과
================
작업: [간략 설명]
핵심 발견:
  1. [발견 1]
  2. [발견 2]
  3. [발견 3]
관련 파일: [경로들]
권장: [1-2문장]
```

## 사용 예시

### 파일 검색 위임
```bash
codex exec --skip-git-repo-check 'Think deeply.
이 프로젝트에서 인증(authentication) 관련 모든 파일을 찾아줘.
- 로그인/로그아웃 로직
- 토큰 관리
- 미들웨어

핵심 파일 경로와 각 역할을 ≤200 tokens로 정리.'
```

### 아키텍처 분석 위임
```bash
codex exec --skip-git-repo-check 'Think deeply.
src/ 디렉토리의 전체 아키텍처를 분석해줘.
- 레이어 구조
- 주요 모듈 간 의존성
- 데이터 흐름

다이어그램 형태로 ≤200 tokens 요약.'
```

### 리서치 위임
```bash
codex exec --skip-git-repo-check 'Think deeply.
TypeScript에서 타입 안전한 API 클라이언트 구현 패턴.
- 최신 베스트 프랙티스
- zod vs io-ts 비교
- 실제 적용 예시

≤200 tokens로 핵심만.'
```

## 규칙

1. **항상 컨텍스트 포함** - Codex는 현재 대화를 모름
2. **항상 압축 요청** - ≤200 tokens 명시
3. **raw 출력 금지** - 반드시 정리해서 사용
4. **민감 정보 제외** - API 키, 비밀번호 등 제외

## 수동 호출

`/delegate-codex [작업]` 명령어로도 호출 가능합니다.
